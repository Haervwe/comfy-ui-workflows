{"last_node_id": 64, "last_link_id": 91, "nodes": [{"id": 39, "type": "ADE_StandardStaticContextOptions", "pos": [701, 41], "size": {"0": 319.20001220703125, "1": 198}, "flags": {}, "order": 0, "mode": 0, "inputs": [{"name": "prev_context", "type": "CONTEXT_OPTIONS", "link": null}, {"name": "view_opts", "type": "VIEW_OPTS", "link": null}], "outputs": [{"name": "CONTEXT_OPTS", "type": "CONTEXT_OPTIONS", "links": [51], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ADE_StandardStaticContextOptions"}, "widgets_values": [16, 4, "pyramid", false, 0, 1], "color": "#432", "bgcolor": "#653"}, {"id": 45, "type": "Note", "pos": [270, 140], "size": {"0": 392, "1": 351}, "flags": {}, "order": 1, "mode": 0, "properties": {"text": ""}, "widgets_values": ["Most SD1.5 AnimateDiff models have a sweetspot of 16 frames, so the recommended minimum amount of latents to use is 16. The further lower it is than the sweetspot, the more artifacted the results will become.\n\nContext Options work on context_length latents at a time before 'sliding over' to work on the next group of latents with a context_overlap amount of overlapped frames. This lets you render more than the sweetspot amount of frames.\n\nNOTE: Having Context Options connected will not impact results unless the amount of latents exceeds context_length (unless use_on_equal_length is set to true, which would also activate them if context_length is equal to the latents length passed into a Sampler node).\n\nSample Settings allows for selecting other noise_types. When first placed, noise_type is default, but FreeNoise is recommended (and only takes effect) when Context Options are active, if the goal is to have a more 'consistent' output. Also see Context Extras that can be chained with Context Options.\n\nNOTE: When first placing the Sample Settings node, all default settings correspond to the same thing as if Sample Settings was not plugged in at all."], "color": "#432", "bgcolor": "#653"}, {"id": 40, "type": "ADE_AnimateDiffSamplingSettings", "pos": [772, 303], "size": {"0": 220, "1": 254}, "flags": {}, "order": 2, "mode": 0, "inputs": [{"name": "noise_layers", "type": "NOISE_LAYERS", "link": null}, {"name": "iteration_opts", "type": "ITERATION_OPTS", "link": null}, {"name": "custom_cfg", "type": "CUSTOM_CFG", "link": null}, {"name": "sigma_schedule", "type": "SIGMA_SCHEDULE", "link": null}, {"name": "image_inject", "type": "IMAGE_INJECT", "link": null}, {"name": "seed_override", "type": "INT", "link": null, "widget": {"name": "seed_override"}}], "outputs": [{"name": "settings", "type": "SAMPLE_SETTINGS", "links": [52], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ADE_AnimateDiffSamplingSettings"}, "widgets_values": [0, "FreeNoise", "comfy", 0, 0, false, ""], "color": "#432", "bgcolor": "#653"}, {"id": 36, "type": "ADE_AnimateDiffLoaderGen1", "pos": [1058, 149], "size": {"0": 315, "1": 242}, "flags": {}, "order": 11, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 48}, {"name": "context_options", "type": "CONTEXT_OPTIONS", "link": 51}, {"name": "motion_lora", "type": "MOTION_LORA", "link": null}, {"name": "ad_settings", "type": "AD_SETTINGS", "link": null}, {"name": "ad_keyframes", "type": "AD_KEYFRAMES", "link": null}, {"name": "sample_settings", "type": "SAMPLE_SETTINGS", "link": 52}, {"name": "scale_multival", "type": "MULTIVAL", "link": null}, {"name": "effect_multival", "type": "MULTIVAL", "link": null}, {"name": "per_block", "type": "PER_BLOCK", "link": null}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [49], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ADE_AnimateDiffLoaderGen1"}, "widgets_values": ["mm_sd_v15_v2.ckpt", "autoselect"], "color": "#432", "bgcolor": "#653"}, {"id": 4, "type": "CLIPSetLastLayer", "pos": [678, 629], "size": {"0": 315, "1": 58}, "flags": {}, "order": 12, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 44}], "outputs": [{"name": "CLIP", "type": "CLIP", "links": [], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "CLIPSetLastLayer"}, "widgets_values": [-2]}, {"id": 6, "type": "CLIPTextEncode", "pos": [1032, 916], "size": {"0": 391.23883056640625, "1": 81}, "flags": {}, "order": 13, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 61}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [5], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["(worst quality, low quality: 1.4)", true], "color": "#322", "bgcolor": "#533"}, {"id": 3, "type": "CLIPTextEncode", "pos": [1054, 727], "size": {"0": 377.7811279296875, "1": 124.52955627441406}, "flags": {}, "order": 18, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 60}, {"name": "text", "type": "STRING", "link": 88, "widget": {"name": "text"}}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [4], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["a blackhole absorving a whole galaxy, space, nebula, 4k, high definition", true], "color": "#232", "bgcolor": "#353"}, {"id": 52, "type": "Reroute", "pos": [1935, 463], "size": [75, 26], "flags": {"pinned": true}, "order": 21, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 71}], "outputs": [{"name": "", "type": "IMAGE", "links": null, "slot_index": 0}], "properties": {"showOutputText": false, "horizontal": false}}, {"id": 47, "type": "ImageUpscaleWithModel", "pos": [1959, 378], "size": {"0": 241.79998779296875, "1": 46}, "flags": {}, "order": 15, "mode": 0, "inputs": [{"name": "upscale_model", "type": "UPSCALE_MODEL", "link": 62}, {"name": "image", "type": "IMAGE", "link": null}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ImageUpscaleWithModel"}}, {"id": 10, "type": "VAEDecode", "pos": [1681, 546], "size": {"0": 210, "1": 46}, "flags": {}, "order": 20, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": 9}, {"name": "vae", "type": "VAE", "link": 10}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [71, 73], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "VAEDecode"}}, {"id": 37, "type": "VHS_VideoCombine", "pos": [2302, 427], "size": [315, 547], "flags": {}, "order": 22, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 73}, {"name": "audio", "type": "AUDIO", "link": null}, {"name": "meta_batch", "type": "VHS_BatchManager", "link": null}, {"name": "vae", "type": "VAE", "link": null}], "outputs": [{"name": "Filenames", "type": "VHS_FILENAMES", "links": null, "shape": 3}], "properties": {"Node name for S&R": "VHS_VideoCombine"}, "widgets_values": {"frame_rate": 8, "loop_count": 0, "filename_prefix": "AnimateDiff/readme", "format": "video/h265-mp4", "pingpong": true, "save_output": true, "videopreview": {"hidden": false, "paused": false, "params": {"filename": "readme_00033.mp4", "subfolder": "AnimateDiff", "type": "output", "format": "video/h265-mp4", "frame_rate": 8}, "muted": false}}, "color": "#223", "bgcolor": "#335"}, {"id": 2, "type": "VAELoader", "pos": [347, 815], "size": {"0": 385.8948669433594, "1": 58}, "flags": {}, "order": 3, "mode": 0, "outputs": [{"name": "VAE", "type": "VAE", "links": [10], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "VAELoader"}, "widgets_values": ["vae-ft-mse-840000-ema-pruned.safetensors"]}, {"id": 9, "type": "EmptyLatentImage", "pos": [1061, 550], "size": {"0": 315, "1": 106}, "flags": {}, "order": 4, "mode": 0, "outputs": [{"name": "LATENT", "type": "LATENT", "links": [39], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "EmptyLatentImage"}, "widgets_values": [512, 512, 16]}, {"id": 59, "type": "String Literal", "pos": [-654, 938], "size": {"0": 400, "1": 200}, "flags": {}, "order": 5, "mode": 0, "outputs": [{"name": "STRING", "type": "STRING", "links": [81], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "String Literal"}, "widgets_values": ["Ypu are in charge of making this promt exemptional here are the descroptions , please make a pront for stable difussion", true]}, {"id": 58, "type": "StringFunction|pysssss", "pos": [-197, 684], "size": [462.0861405776227, 552.660516355086], "flags": {}, "order": 16, "mode": 0, "inputs": [{"name": "text_a", "type": "STRING", "link": 81, "widget": {"name": "text_a"}}, {"name": "text_b", "type": "STRING", "link": 91, "widget": {"name": "text_b"}}, {"name": "text_c", "type": "STRING", "link": 90, "widget": {"name": "text_c"}}], "outputs": [{"name": "STRING", "type": "STRING", "links": [87], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "StringFunction|pysssss"}, "widgets_values": ["append", "yes", "", "", "", "Ypu are in charge of making this promt exemptional here are the descroptions, please make a pront for stable difussion, a blackhole absorving a whole galaxy, space, nebula, 4k, high definition, In the image, a long-haired cat with brown and white fur is sitting on a wooden porch. The cat's head is tilted slightly to the side as it gazes off to the left of the frame. The porch, which has a red roof, provides a stark contrast to the cat's muted colors. In the background, there are trees and shrubs visible, adding a touch of nature to the scene. The cat is centrally positioned in the image, drawing the viewer's attention immediately. There are no texts or other discernible actions taking place in the image. The relative positions of the objects suggest that the porch might be situated amidst a wooded area."]}, {"id": 32, "type": "CheckpointLoaderSimple", "pos": [269, 607], "size": {"0": 315, "1": 98}, "flags": {}, "order": 6, "mode": 0, "outputs": [{"name": "MODEL", "type": "MODEL", "links": [48], "slot_index": 0, "shape": 3}, {"name": "CLIP", "type": "CLIP", "links": [44, 60, 61], "slot_index": 1, "shape": 3}, {"name": "VAE", "type": "VAE", "links": null, "shape": 3}], "properties": {"Node name for S&R": "CheckpointLoaderSimple"}, "widgets_values": ["imp_v10.safetensors"]}, {"id": 64, "type": "LoadImage", "pos": [-1186, 774], "size": [315, 314], "flags": {}, "order": 7, "mode": 0, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [89], "shape": 3, "slot_index": 0}, {"name": "MASK", "type": "MASK", "links": null, "shape": 3}], "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["download.jpg", "image"]}, {"id": 62, "type": "OllamaGenerate", "pos": [338, 1023], "size": [400, 219.99993896484375], "flags": {}, "order": 17, "mode": 0, "inputs": [{"name": "prompt", "type": "STRING", "link": 87, "widget": {"name": "prompt"}}], "outputs": [{"name": "response", "type": "STRING", "links": [88], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "OllamaGenerate"}, "widgets_values": ["What is Art?", "enable", "http://127.0.0.1:11434", "phi3:3.8b", 445223865165950, "randomize", "0", true]}, {"id": 46, "type": "UpscaleModelLoader", "pos": [1575, 255], "size": {"0": 315, "1": 58}, "flags": {}, "order": 8, "mode": 0, "outputs": [{"name": "UPSCALE_MODEL", "type": "UPSCALE_MODEL", "links": [62], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "UpscaleModelLoader"}, "widgets_values": ["ESRGAN_4x.pth"]}, {"id": 7, "type": "KSampler", "pos": [1491, 676], "size": {"0": 315, "1": 262}, "flags": {}, "order": 19, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 49}, {"name": "positive", "type": "CONDITIONING", "link": 4}, {"name": "negative", "type": "CONDITIONING", "link": 5}, {"name": "latent_image", "type": "LATENT", "link": 39}, {"name": "seed", "type": "INT", "link": 6, "widget": {"name": "seed"}}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [9], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "KSampler"}, "widgets_values": [885024233891134, "fixed", 30, 3, "uni_pc", "ddim_uniform", 1]}, {"id": 5, "type": "PrimitiveNode", "pos": [1141, 1084], "size": {"0": 285.6000061035156, "1": 82}, "flags": {}, "order": 9, "mode": 0, "outputs": [{"name": "INT", "type": "INT", "links": [6], "slot_index": 0, "widget": {"name": "seed"}}], "title": "Primitive (I'm using this as seed)", "properties": {"Run widget replace on values": false}, "widgets_values": [885024233891134, "randomize"], "color": "#2a363b", "bgcolor": "#3f5159"}, {"id": 55, "type": "OllamaVision", "pos": [-668, 626], "size": {"0": 400, "1": 220.00003051757812}, "flags": {}, "order": 14, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 89}], "outputs": [{"name": "description", "type": "STRING", "links": [91], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "OllamaVision"}, "widgets_values": ["describe the image", "enable", "http://127.0.0.1:11434", "llava-phi3:latest", 908277287493149, "randomize", "0", true]}, {"id": 49, "type": "String Literal", "pos": [-670, 358], "size": {"0": 400, "1": 200}, "flags": {}, "order": 10, "mode": 0, "outputs": [{"name": "STRING", "type": "STRING", "links": [90], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "String Literal"}, "widgets_values": ["make a surreal promt for an animation based on the image description above", true]}], "links": [[4, 3, 0, 7, 1, "CONDITIONING"], [5, 6, 0, 7, 2, "CONDITIONING"], [6, 5, 0, 7, 4, "INT"], [9, 7, 0, 10, 0, "LATENT"], [10, 2, 0, 10, 1, "VAE"], [39, 9, 0, 7, 3, "LATENT"], [44, 32, 1, 4, 0, "CLIP"], [48, 32, 0, 36, 0, "MODEL"], [49, 36, 0, 7, 0, "MODEL"], [51, 39, 0, 36, 1, "CONTEXT_OPTIONS"], [52, 40, 0, 36, 5, "SAMPLE_SETTINGS"], [60, 32, 1, 3, 0, "CLIP"], [61, 32, 1, 6, 0, "CLIP"], [62, 46, 0, 47, 0, "UPSCALE_MODEL"], [71, 10, 0, 52, 0, "*"], [73, 10, 0, 37, 0, "IMAGE"], [81, 59, 0, 58, 0, "STRING"], [87, 58, 0, 62, 0, "STRING"], [88, 62, 0, 3, 1, "STRING"], [89, 64, 0, 55, 0, "IMAGE"], [90, 49, 0, 58, 2, "STRING"], [91, 55, 0, 58, 1, "STRING"]], "groups": [{"title": "Change this to match your model reqs", "bounding": [595, 571, 416, 165], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "Latents = Animation length", "bounding": [1057, 485, 327, 150], "color": "#3f789e", "font_size": 24, "locked": false}], "config": {}, "extra": {"ds": {"scale": 0.8264462809917354, "offset": [459.44745985771755, -180.28193566847747]}}, "version": 0.4}