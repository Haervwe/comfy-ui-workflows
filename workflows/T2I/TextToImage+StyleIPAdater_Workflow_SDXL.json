{"last_node_id":60,"last_link_id":118,"nodes":[{"id":14,"type":"Note","pos":[20,-80],"size":[470,100],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"properties":{"text":""},"widgets_values":["SDXL-Lightning - Basic Workflow v1.1\n\n@flisbonwlove 21 FEB 2024\nResearch Paper: huggingface.co/ByteDance/SDXL-Lightning"],"color":"#222","bgcolor":"#000","shape":1},{"id":18,"type":"LoraLoaderModelOnly","pos":[30,650],"size":[450,82],"flags":{},"order":17,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":17,"localized_name":"model"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[86],"slot_index":0,"shape":3,"localized_name":"MODEL"}],"title":"Load Aditional Lora #3","properties":{"Node name for S&R":"LoraLoaderModelOnly"},"widgets_values":["SD15\\Hyper-SD15-8steps-CFG-lora.safetensors",1],"color":"#323","bgcolor":"#535","shape":1},{"id":45,"type":"Seed","pos":[627,-123],"size":[315,142],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"seed","type":"SEED","links":null,"shape":3,"localized_name":"seed"},{"name":"number","type":"NUMBER","links":null,"shape":3,"localized_name":"number"},{"name":"float","type":"FLOAT","links":null,"shape":3,"localized_name":"float"},{"name":"int","type":"INT","links":[67,68],"slot_index":3,"shape":3,"localized_name":"int"}],"properties":{"Node name for S&R":"Seed"},"widgets_values":[151679380824676,"randomize"]},{"id":16,"type":"LoraLoaderModelOnly","pos":[30,520],"size":[450,82],"flags":{},"order":16,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":15,"localized_name":"model"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[17],"slot_index":0,"shape":3,"localized_name":"MODEL"}],"title":"Load Aditional Lora #2","properties":{"Node name for S&R":"LoraLoaderModelOnly"},"widgets_values":["SD15\\Hyper-SD15-8steps-CFG-lora.safetensors",0.3],"color":"#323","bgcolor":"#535","shape":1},{"id":54,"type":"VAEDecodeTiled","pos":[1110,408],"size":[315,102],"flags":{"collapsed":true},"order":21,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":96,"localized_name":"samples"},{"name":"vae","type":"VAE","link":97,"localized_name":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[98],"slot_index":0,"shape":3,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"VAEDecodeTiled"},"widgets_values":[512,64]},{"id":55,"type":"CLIPSetLastLayer","pos":[270,-182],"size":[315,58],"flags":{},"order":9,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":99,"localized_name":"clip"}],"outputs":[{"name":"CLIP","type":"CLIP","links":[100,101],"slot_index":0,"shape":3,"localized_name":"CLIP"}],"properties":{"Node name for S&R":"CLIPSetLastLayer"},"widgets_values":[-2]},{"id":23,"type":"PrepImageForClipVision","pos":[936,526],"size":[385.45428466796875,106],"flags":{},"order":15,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":106,"slot_index":0,"localized_name":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[107],"slot_index":0,"shape":3,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"PrepImageForClipVision"},"widgets_values":["LANCZOS","center",0],"color":"#2a363b","bgcolor":"#3f5159"},{"id":56,"type":"Image Crop Face","pos":[544,522],"size":[315,102],"flags":{},"order":10,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":102,"localized_name":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[103,106],"slot_index":0,"shape":3,"localized_name":"IMAGE"},{"name":"CROP_DATA","type":"CROP_DATA","links":null,"shape":3,"localized_name":"CROP_DATA"}],"properties":{"Node name for S&R":"Image Crop Face"},"widgets_values":[0.25,"lbpcascade_animeface.xml"]},{"id":57,"type":"PreviewImage","pos":[937,1051],"size":[376.4331359863281,325.4149475097656],"flags":{},"order":14,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":103,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":5,"type":"EmptyLatentImage","pos":[30,890],"size":[450,110],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"LATENT","type":"LATENT","links":[2],"slot_index":0,"localized_name":"LATENT"}],"properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[768,1024,2],"color":"#222","bgcolor":"#000","shape":1},{"id":34,"type":"Upscale Model Loader","pos":[3733.0048828125,121.0633544921875],"size":[315,78],"flags":{"collapsed":false},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[37],"shape":3,"localized_name":"UPSCALE_MODEL"},{"name":"MODEL_NAME_TEXT","type":"STRING","links":null,"shape":3,"localized_name":"MODEL_NAME_TEXT"}],"properties":{"Node name for S&R":"Upscale Model Loader"},"widgets_values":["RealESRGAN_x2.pth"]},{"id":36,"type":"SaveImage","pos":[4437,119],"size":[1010,1070],"flags":{},"order":25,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":44,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["SDXL-Lightning-Upscaled"]},{"id":44,"type":"ControlNetApplyAdvanced","pos":[3755,369],"size":[315,186],"flags":{},"order":23,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":64,"label":"positive","localized_name":"positive"},{"name":"negative","type":"CONDITIONING","link":63,"label":"negative","localized_name":"negative"},{"name":"control_net","type":"CONTROL_NET","link":61,"label":"control_net","localized_name":"control_net"},{"name":"image","type":"IMAGE","link":89,"label":"image","localized_name":"image"},{"name":"vae","type":"VAE","link":null,"shape":7,"localized_name":"vae"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[65],"slot_index":0,"shape":3,"label":"positive","localized_name":"positive"},{"name":"negative","type":"CONDITIONING","links":[66],"slot_index":1,"shape":3,"label":"negative","localized_name":"negative"}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0,1]},{"id":11,"type":"LoraLoaderModelOnly","pos":[30,260],"size":[450,82],"flags":{},"order":8,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":11,"localized_name":"model"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[13],"slot_index":0,"shape":3,"localized_name":"MODEL"}],"title":"Load SDXL Lightning 8step Lora","properties":{"Node name for S&R":"LoraLoaderModelOnly"},"widgets_values":["SDXL\\add-detail-xl.safetensors",0.5],"color":"#323","bgcolor":"#535","shape":1},{"id":15,"type":"LoraLoaderModelOnly","pos":[30,390],"size":[450,82],"flags":{},"order":11,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":13,"localized_name":"model"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[15],"slot_index":0,"shape":3,"localized_name":"MODEL"}],"title":"Load Aditional Lora #1","properties":{"Node name for S&R":"LoraLoaderModelOnly"},"widgets_values":["SDXL/Hyper-SDXL-8steps-CFG-lora.safetensors",0.8],"color":"#323","bgcolor":"#535","shape":1},{"id":17,"type":"VAELoader","pos":[30,780],"size":[450,60],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"VAE","type":"VAE","links":[42,97],"slot_index":0,"shape":3,"localized_name":"VAE"}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["SDXL/sdxlVAE_sdxlVAE.safetensors"],"color":"#323","bgcolor":"#535","shape":1},{"id":4,"type":"CheckpointLoaderSimple","pos":[30,110],"size":[450,100],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","type":"MODEL","links":[11],"slot_index":0,"localized_name":"MODEL"},{"name":"CLIP","type":"CLIP","links":[99],"slot_index":1,"localized_name":"CLIP"},{"name":"VAE","type":"VAE","links":[],"slot_index":2,"localized_name":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["SDXL/colossusProjectXLSFW_10bNeodemonFP16.safetensors"],"color":"#323","bgcolor":"#535","shape":1},{"id":3,"type":"KSampler","pos":[1058,89],"size":[315,262],"flags":{},"order":20,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":115,"localized_name":"model"},{"name":"positive","type":"CONDITIONING","link":4,"localized_name":"positive"},{"name":"negative","type":"CONDITIONING","link":6,"localized_name":"negative"},{"name":"latent_image","type":"LATENT","link":2,"localized_name":"latent_image"},{"name":"seed","type":"INT","link":67,"widget":{"name":"seed"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[96],"slot_index":0,"localized_name":"LATENT"}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[400949248633609,"randomize",8,1.6,"lcm","sgm_uniform",1]},{"id":41,"type":"AV_IPAdapter","pos":[945,700],"size":[342.5999755859375,306],"flags":{},"order":18,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":86,"localized_name":"model"},{"name":"image","type":"IMAGE","link":107,"localized_name":"image"},{"name":"ip_adapter_opt","type":"IPADAPTER","link":null,"shape":7,"localized_name":"ip_adapter_opt"},{"name":"clip_vision_opt","type":"CLIP_VISION","link":null,"shape":7,"localized_name":"clip_vision_opt"},{"name":"attn_mask","type":"MASK","link":null,"shape":7,"localized_name":"attn_mask"}],"outputs":[{"name":"model","type":"MODEL","links":[114],"slot_index":0,"shape":3,"localized_name":"model"},{"name":"pipeline","type":"IPADAPTER","links":null,"shape":3,"localized_name":"pipeline"},{"name":"clip_vision","type":"CLIP_VISION","links":null,"shape":3,"localized_name":"clip_vision"}],"properties":{"Node name for S&R":"AV_IPAdapter"},"widgets_values":["ip-adapter-plus-face_sdxl_vit-h.safetensors","CLIP-ViT-H-14-laion2B-s32B-b79K.safetensors",0.8,0.15,0,1,"standard"]},{"id":43,"type":"ControlNetLoader","pos":[3743,254],"size":[306.02252197265625,62.28388214111328],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[61],"slot_index":0,"shape":3,"label":"CONTROL_NET","localized_name":"CONTROL_NET"}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["SDXL/TTPLANET_Controlnet_Tile_realistic_v2_rank256.safetensors"]},{"id":26,"type":"LoadImage","pos":[551,725],"size":[360,670],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[102],"slot_index":0,"shape":3,"localized_name":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"shape":3,"localized_name":"MASK"}],"title":"Load Image IPAdapter","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["image_2024-09-08_071817380.png","image"],"color":"#233","bgcolor":"#355"},{"id":60,"type":"FreeU_V2","pos":[1047,-85],"size":[315,130],"flags":{},"order":19,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":114,"localized_name":"model"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[115,116],"slot_index":0,"shape":3,"localized_name":"MODEL"}],"properties":{"Node name for S&R":"FreeU_V2"},"widgets_values":[1.3,1.4,0.9,0.2]},{"id":46,"type":"Preview Chooser","pos":[1418,75],"size":[1040,1140],"flags":{},"order":22,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":98,"shape":7,"localized_name":"images"},{"name":"latents","type":"LATENT","link":null,"shape":7,"localized_name":"latents"},{"name":"masks","type":"MASK","link":null,"shape":7,"localized_name":"masks"},{"name":"segs","type":"SEGS","link":null,"shape":7,"localized_name":"segs"}],"outputs":[{"name":"images","type":"IMAGE","links":[70,89,117],"slot_index":0,"shape":3,"localized_name":"images"},{"name":"latents","type":"LATENT","links":null,"shape":3,"localized_name":"latents"},{"name":"masks","type":"MASK","links":null,"shape":3,"localized_name":"masks"},{"name":"selected","type":"STRING","links":null,"shape":3,"localized_name":"selected"},{"name":"segs","type":"SEGS","links":null,"shape":3,"localized_name":"segs"}],"title":"Stop Or Upscale next Step?","properties":{"Node name for S&R":"Preview Chooser"},"widgets_values":["Always pause",1,"",""]},{"id":33,"type":"UltimateSDUpscale","pos":[4085,93],"size":[315,614],"flags":{},"order":24,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":70,"localized_name":"image"},{"name":"model","type":"MODEL","link":116,"localized_name":"model"},{"name":"positive","type":"CONDITIONING","link":65,"localized_name":"positive"},{"name":"negative","type":"CONDITIONING","link":66,"localized_name":"negative"},{"name":"vae","type":"VAE","link":42,"localized_name":"vae"},{"name":"upscale_model","type":"UPSCALE_MODEL","link":37,"slot_index":5,"localized_name":"upscale_model"},{"name":"seed","type":"INT","link":68,"widget":{"name":"seed"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[44,118],"slot_index":0,"shape":3,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"UltimateSDUpscale"},"widgets_values":[2,881321087315024,"randomize",8,1.5,"dpmpp_2m","sgm_uniform",0.15,"Linear",1024,1024,8,32,"None",1,64,8,16,false,true]},{"id":58,"type":"Image Comparer (rgthree)","pos":[2498,64],"size":[1154.4073486328125,1162.4302978515625],"flags":{},"order":26,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":118,"dir":3},{"name":"image_b","type":"IMAGE","link":117,"dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_fvvui_00003_.png&type=temp&subfolder=&rand=0.5405438642947273"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_fvvui_00004_.png&type=temp&subfolder=&rand=0.9832128699790841"}]]},{"id":7,"type":"CLIPTextEncode","pos":[550,290],"size":[460,110],"flags":{},"order":12,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":100,"localized_name":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[6,63],"slot_index":0,"localized_name":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["",[false,true]],"color":"#322","bgcolor":"#533"},{"id":6,"type":"CLIPTextEncode","pos":[547,74],"size":[460,160],"flags":{},"order":13,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":101,"localized_name":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[4,64],"slot_index":0,"localized_name":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["Beautiful Girl in a medieval attire",[false,true]],"color":"#232","bgcolor":"#353"}],"links":[[2,5,0,3,3,"LATENT"],[4,6,0,3,1,"CONDITIONING"],[6,7,0,3,2,"CONDITIONING"],[11,4,0,11,0,"MODEL"],[13,11,0,15,0,"MODEL"],[15,15,0,16,0,"MODEL"],[17,16,0,18,0,"MODEL"],[37,34,0,33,5,"UPSCALE_MODEL"],[42,17,0,33,4,"VAE"],[44,33,0,36,0,"IMAGE"],[61,43,0,44,2,"CONTROL_NET"],[63,7,0,44,1,"CONDITIONING"],[64,6,0,44,0,"CONDITIONING"],[65,44,0,33,2,"CONDITIONING"],[66,44,1,33,3,"CONDITIONING"],[67,45,3,3,4,"INT"],[68,45,3,33,6,"INT"],[70,46,0,33,0,"IMAGE"],[86,18,0,41,0,"MODEL"],[89,46,0,44,3,"IMAGE"],[96,3,0,54,0,"LATENT"],[97,17,0,54,1,"VAE"],[98,54,0,46,0,"IMAGE"],[99,4,1,55,0,"CLIP"],[100,55,0,7,0,"CLIP"],[101,55,0,6,0,"CLIP"],[102,26,0,56,0,"IMAGE"],[103,56,0,57,0,"IMAGE"],[106,56,0,23,0,"IMAGE"],[107,23,0,41,1,"IMAGE"],[114,41,0,60,0,"MODEL"],[115,60,0,3,0,"MODEL"],[116,60,0,33,1,"MODEL"],[117,46,0,58,1,"IMAGE"],[118,33,0,58,0,"IMAGE"]],"groups":[{"id":1,"title":"Checkpoint Lora and Inits","bounding":[0,72,470,974],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"IPAdapter","bounding":[576,432,838,1001],"color":"#8AA","font_size":24,"flags":{}},{"id":3,"title":"Upscale","bounding":[3672,0,1887,1170],"color":"#8A8","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.33809166040571037,"offset":[1325.4833093688371,835.7567627480787]},"node_versions":{"comfy-core":"v0.3.9","was-node-suite-comfyui":"056badacda52e88d29d6a65f9509cd3115ace0f2","ComfyUI_IPAdapter_plus":"b188a6cb39b512a9c6da7235b880af42c78ccd0d","comfyui-art-venture":"50abaace756b96f5f5dc2c9d72826ef371afd45e","cg-image-picker":"aaab0d31165ee9cd252f62067de5f5e89240563e","ComfyUI_UltimateSDUpscale":"ff3fdfeee03de46d4462211cffd165d27155e858","rgthree-comfy":"5d771b8b56a343c24a26e8cea1f0c87c3d58102f"},"ue_links":[]},"version":0.4}