{"last_node_id": 239, "last_link_id": 440, "nodes": [{"id": 214, "type": "ControlNetApplyAdvanced", "pos": {"0": 2170, "1": -9, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 315, "1": 166}, "flags": {}, "order": 14, "mode": 0, "inputs": [{"name": "positive", "type": "CONDITIONING", "link": 360, "label": "positive"}, {"name": "negative", "type": "CONDITIONING", "link": 363, "label": "negative"}, {"name": "control_net", "type": "CONTROL_NET", "link": 359, "label": "control_net"}, {"name": "image", "type": "IMAGE", "link": 421, "label": "image"}], "outputs": [{"name": "positive", "type": "CONDITIONING", "links": [361], "slot_index": 0, "shape": 3, "label": "positive"}, {"name": "negative", "type": "CONDITIONING", "links": [364], "slot_index": 1, "shape": 3, "label": "negative"}], "properties": {"Node name for S&R": "ControlNetApplyAdvanced"}, "widgets_values": [0.9, 0, 0.9]}, {"id": 128, "type": "ImageScaleBy", "pos": {"0": 1430, "1": 433, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 315, "1": 82}, "flags": {}, "order": 8, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 419, "label": "image"}, {"name": "scale_by", "type": "FLOAT", "link": 225, "widget": {"name": "scale_by"}, "label": "scale_by"}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [226], "slot_index": 0, "shape": 3, "label": "IMAGE"}], "properties": {"Node name for S&R": "ImageScaleBy"}, "widgets_values": ["lanczos", 2]}, {"id": 86, "type": "CLIPTextEncode", "pos": {"0": 1521, "1": 312, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 217.8780975341797, "1": 56.58431625366211}, "flags": {}, "order": 13, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 153, "label": "clip"}, {"name": "text", "type": "STRING", "link": 431, "widget": {"name": "text"}, "label": "text"}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [360], "slot_index": 0, "shape": 3, "label": "CONDITIONING"}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["high detail, best quality", true], "color": "#222"}, {"id": 89, "type": "Reroute", "pos": {"0": 1437, "1": 293, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": [75, 26], "flags": {}, "order": 7, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 426, "label": ""}], "outputs": [{"name": "CLIP", "type": "CLIP", "links": [153, 202], "label": "CLIP"}], "properties": {"showOutputText": true, "horizontal": false}}, {"id": 127, "type": "SaveImage", "pos": {"0": 2286, "1": -655, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 562.8740234375, "1": 437.2073974609375}, "flags": {}, "order": 19, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 438, "label": "images"}], "outputs": [], "title": "\u8d85\u5206\u540e\u7f29\u5c0f", "properties": {"Node name for S&R": "SaveImage"}, "widgets_values": ["ComfyUI"]}, {"id": 92, "type": "Image Comparer (rgthree)", "pos": {"0": 1577, "1": -657, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 653.4579467773438, "1": 432.60040283203125}, "flags": {}, "order": 21, "mode": 0, "inputs": [{"name": "image_a", "type": "IMAGE", "link": 331, "slot_index": 0, "dir": 3, "label": "image_a"}, {"name": "image_b", "type": "IMAGE", "link": 440, "dir": 3, "label": "image_b"}], "outputs": [], "title": "\u5bf9\u6bd4", "properties": {"comparer_mode": "Slide"}, "widgets_values": [[{"name": "A", "selected": true, "url": "/api/view?filename=rgthree.compare._temp_santk_00001_.png&type=temp&subfolder=&rand=0.7133943778853089"}]]}, {"id": 117, "type": "SaveImage", "pos": {"0": 918, "1": -659, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 576.656005859375, "1": 416.6006164550781}, "flags": {}, "order": 17, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 437, "label": "images"}], "outputs": [], "properties": {"Node name for S&R": "SaveImage"}, "widgets_values": ["ComfyUI"]}, {"id": 90, "type": "Float", "pos": {"0": 815, "1": -95, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 555.4862060546875, "1": 72.14442443847656}, "flags": {}, "order": 0, "mode": 0, "inputs": [], "outputs": [{"name": "FLOAT", "type": "FLOAT", "links": [141, 225], "slot_index": 0, "shape": 3, "label": "FLOAT"}], "title": "Tile \u653e\u5927\u6bd4\u7387\uff08\u5efa\u8bae4\uff09", "properties": {"Node name for S&R": "Float"}, "widgets_values": [2], "color": "#432", "bgcolor": "#653"}, {"id": 116, "type": "CLIPTextEncode", "pos": {"0": 1762, "1": -150, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 369.3165283203125, "1": 76.00001525878906}, "flags": {}, "order": 10, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 202, "label": "clip"}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [363], "slot_index": 0, "shape": 3, "label": "CONDITIONING"}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["crayon, sketch, graphite, impressionist, noisy, blurry, soft, deformed, uglg, painting, drawing, illustration, deformed, mutated", true]}, {"id": 236, "type": "Simple String Combine (WLSH)", "pos": {"0": 1398, "1": -168, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 316.19586181640625, "1": 104}, "flags": {}, "order": 12, "mode": 0, "inputs": [{"name": "input_string", "type": "STRING", "link": 432, "widget": {"name": "input_string"}, "label": "input_string"}, {"name": "addition", "type": "STRING", "link": 429, "widget": {"name": "addition"}, "label": "addition"}], "outputs": [{"name": "combined", "type": "STRING", "links": [431], "slot_index": 0, "shape": 3, "label": "combined"}], "properties": {"Node name for S&R": "Simple String Combine (WLSH)"}, "widgets_values": ["", "after", "comma", "", true, true]}, {"id": 238, "type": "DF_Text_Box", "pos": {"0": 1427, "1": -7, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 333.2644958496094, "1": 114.76323699951172}, "flags": {}, "order": 1, "mode": 0, "inputs": [], "outputs": [{"name": "STRING", "type": "STRING", "links": [432], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "DF_Text_Box"}, "widgets_values": ["High resolution, 4k, proffesional photography,", true]}, {"id": 198, "type": "Reroute", "pos": {"0": 1433, "1": 339, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": [75, 26], "flags": {}, "order": 6, "mode": 4, "inputs": [{"name": "", "type": "*", "link": 433, "label": ""}], "outputs": [{"name": "", "type": "IMAGE", "links": [331, 419, 421, 422, 435], "slot_index": 0, "label": ""}], "properties": {"showOutputText": false, "horizontal": false}}, {"id": 113, "type": "DisplayText_Zho", "pos": {"0": 1767, "1": 240, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 358.02166748046875, "1": 114.77532196044922}, "flags": {}, "order": 11, "mode": 0, "inputs": [{"name": "text", "type": "STRING", "link": 436, "slot_index": 0, "widget": {"name": "text"}, "label": "text"}], "outputs": [{"name": "text", "type": "STRING", "links": [429], "slot_index": 0, "shape": 3, "label": "text"}], "properties": {"Node name for S&R": "DisplayText_Zho"}, "widgets_values": ["", "prompt = \"A young woman with gray hair and a black eye patch is standing in front of a stone archway. She has a black corset-like top on and her breasts are exposed, revealing a pink nipple ring. In her hand, she holds a sword.\"", true], "color": "#222"}, {"id": 12, "type": "LoadImage", "pos": {"0": 811, "1": 68, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 573.42333984375, "1": 445.68377685546875}, "flags": {}, "order": 2, "mode": 0, "inputs": [], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [433], "slot_index": 0, "shape": 3, "label": "IMAGE"}, {"name": "MASK", "type": "MASK", "links": null, "shape": 3, "label": "MASK"}], "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["SDXL-Lightning_00027_.png", "image"], "color": "#432", "bgcolor": "#653"}, {"id": 239, "type": "OllamaVision", "pos": {"0": 1794, "1": -16, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 304.2658996582031, "1": 225}, "flags": {}, "order": 9, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 435}], "outputs": [{"name": "description", "type": "STRING", "links": [436], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "OllamaVision"}, "widgets_values": ["ext = ' ' # @param {type:\"string\"}\n\nprompt = \"You are creating a prompt for Stable Diffusion to generate an image. First step: describe the people and background in this image, then put description into text. Second step: generate a text prompt for %s based on first step.  Only respond with the prompt itself, but embellish it as needed but keep it under 50 t", "enable", "http://127.0.0.1:11434", "llava-phi3:latest", 170266955985178, "randomize", "0", true]}, {"id": 76, "type": "CheckpointLoaderSimple", "pos": {"0": 1428, "1": 156, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 315, "1": 98}, "flags": {}, "order": 3, "mode": 0, "inputs": [], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [424], "slot_index": 0, "shape": 3, "label": "MODEL"}, {"name": "CLIP", "type": "CLIP", "links": [426], "slot_index": 1, "shape": 3, "label": "CLIP"}, {"name": "VAE", "type": "VAE", "links": [139], "slot_index": 2, "shape": 3, "label": "VAE"}], "properties": {"Node name for S&R": "CheckpointLoaderSimple"}, "widgets_values": ["SDXL\\juggernautXL_v9Rdphoto2Lightning.safetensors"]}, {"id": 75, "type": "UltimateSDUpscale", "pos": {"0": 2542, "1": -120, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 315, "1": 614}, "flags": {}, "order": 15, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 422, "slot_index": 0, "label": "image"}, {"name": "model", "type": "MODEL", "link": 424, "label": "model"}, {"name": "positive", "type": "CONDITIONING", "link": 361, "slot_index": 2, "label": "positive"}, {"name": "negative", "type": "CONDITIONING", "link": 364, "slot_index": 3, "label": "negative"}, {"name": "vae", "type": "VAE", "link": 139, "label": "vae"}, {"name": "upscale_model", "type": "UPSCALE_MODEL", "link": 140, "slot_index": 5, "label": "upscale_model"}, {"name": "upscale_by", "type": "FLOAT", "link": 141, "slot_index": 6, "widget": {"name": "upscale_by"}, "label": "upscale_by"}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [228, 437], "slot_index": 0, "shape": 3, "label": "IMAGE"}], "properties": {"Node name for S&R": "UltimateSDUpscale"}, "widgets_values": [3, 391471045048658, "fixed", 20, 7, "euler_ancestral", "karras", 0.35000000000000003, "Linear", 512, 512, 8, 32, "None", 1, 64, 8, 16, "enable", false]}, {"id": 129, "type": "ImageScale", "pos": {"0": 1777, "1": 415, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 358.8062744140625, "1": 122}, "flags": {}, "order": 18, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 226, "label": "image"}, {"name": "width", "type": "INT", "link": 229, "widget": {"name": "width"}, "label": "width"}, {"name": "height", "type": "INT", "link": 230, "widget": {"name": "height"}, "label": "height"}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [438, 439], "slot_index": 0, "shape": 3, "label": "IMAGE"}], "properties": {"Node name for S&R": "ImageScale"}, "widgets_values": ["lanczos", 512, 512, "disabled"]}, {"id": 197, "type": "ImageScaleBy", "pos": {"0": 2358, "1": -832, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 315, "1": 82}, "flags": {}, "order": 20, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 439, "label": "image"}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [440], "slot_index": 0, "shape": 3, "label": "IMAGE"}], "properties": {"Node name for S&R": "ImageScaleBy"}, "widgets_values": ["area", 0.5]}, {"id": 80, "type": "ControlNetLoader", "pos": {"0": 2160, "1": -163, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 348.59130859375, "1": 98.23954772949219}, "flags": {}, "order": 4, "mode": 0, "inputs": [], "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [359], "slot_index": 0, "shape": 3, "label": "CONTROL_NET"}], "properties": {"Node name for S&R": "ControlNetLoader"}, "widgets_values": ["ttplanetSDXLControlnet_v20Fp16.safetensors"]}, {"id": 78, "type": "UpscaleModelLoader", "pos": {"0": 2170, "1": 222, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 5, "mode": 0, "inputs": [], "outputs": [{"name": "UPSCALE_MODEL", "type": "UPSCALE_MODEL", "links": [140], "shape": 3, "label": "UPSCALE_MODEL"}], "properties": {"Node name for S&R": "UpscaleModelLoader"}, "widgets_values": ["4xNMKDSuperscale_4xNMKDSuperscale.pt"]}, {"id": 131, "type": "GetImageSize", "pos": {"0": 2174, "1": 335, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 317.751220703125, "1": 50.28239059448242}, "flags": {"collapsed": false}, "order": 16, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 228, "label": "image"}], "outputs": [{"name": "width", "type": "INT", "links": [229], "slot_index": 0, "shape": 3, "label": "width"}, {"name": "height", "type": "INT", "links": [230], "slot_index": 1, "shape": 3, "label": "height"}], "properties": {"Node name for S&R": "GetImageSize"}}], "links": [[139, 76, 2, 75, 4, "VAE"], [140, 78, 0, 75, 5, "UPSCALE_MODEL"], [141, 90, 0, 75, 6, "FLOAT"], [153, 89, 0, 86, 0, "CLIP"], [202, 89, 0, 116, 0, "CLIP"], [225, 90, 0, 128, 1, "FLOAT"], [226, 128, 0, 129, 0, "IMAGE"], [228, 75, 0, 131, 0, "IMAGE"], [229, 131, 0, 129, 1, "INT"], [230, 131, 1, 129, 2, "INT"], [331, 198, 0, 92, 0, "IMAGE"], [359, 80, 0, 214, 2, "CONTROL_NET"], [360, 86, 0, 214, 0, "CONDITIONING"], [361, 214, 0, 75, 2, "CONDITIONING"], [363, 116, 0, 214, 1, "CONDITIONING"], [364, 214, 1, 75, 3, "CONDITIONING"], [419, 198, 0, 128, 0, "IMAGE"], [421, 198, 0, 214, 3, "IMAGE"], [422, 198, 0, 75, 0, "IMAGE"], [424, 76, 0, 75, 1, "MODEL"], [426, 76, 1, 89, 0, "*"], [429, 113, 0, 236, 1, "STRING"], [431, 236, 0, 86, 1, "STRING"], [432, 238, 0, 236, 0, "STRING"], [433, 12, 0, 198, 0, "*"], [435, 198, 0, 239, 0, "IMAGE"], [436, 239, 0, 113, 0, "STRING"], [437, 75, 0, 117, 0, "IMAGE"], [438, 129, 0, 127, 0, "IMAGE"], [439, 129, 0, 197, 0, "IMAGE"], [440, 197, 0, 92, 1, "IMAGE"]], "groups": [], "config": {}, "extra": {"ds": {"scale": 2.6333125430608053, "offset": [-785.2435433546017, 580.0203284030756]}, "groupNodes": {"control": {"nodes": [{"id": -1, "type": "Fast Groups Bypasser (rgthree)", "pos": {"0": -430, "1": -576, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 355.7608337402344, "1": 154}, "flags": {}, "order": 13, "mode": 0, "inputs": [], "outputs": [{"name": "OPT_CONNECTION", "type": "*", "links": null, "label": "OPT_CONNECTION"}], "properties": {"matchColors": "", "matchTitle": "", "showNav": true, "sort": "position", "customSortAlphabet": "", "toggleRestriction": "default"}, "index": 0}, {"type": "CR Image Input Switch", "pos": [-403, -732], "size": {"0": 315, "1": 78}, "flags": {}, "order": 29, "mode": 0, "inputs": [{"name": "image1", "type": "IMAGE", "link": null, "label": "image1"}, {"name": "image2", "type": "IMAGE", "link": null, "label": "image2"}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [], "shape": 3, "label": "IMAGE", "slot_index": 0}, {"name": "show_help", "type": "STRING", "links": null, "shape": 3, "label": "show_help"}], "properties": {"Node name for S&R": "CR Image Input Switch"}, "widgets_values": [1], "index": 1}], "links": [[null, 5, 1, 0, 150, "IMAGE"], [null, 0, 1, 1, 12, "IMAGE"]], "external": [[1, 0, "IMAGE"]]}, "\u9996\u6b21\u91c7\u6837\u7f29\u653e\u63a7\u5236": {"nodes": [{"type": "Cfg Literal", "pos": [-145, -826], "size": {"0": 315, "1": 58}, "flags": {}, "order": 14, "mode": 0, "outputs": [{"name": "FLOAT", "type": "FLOAT", "links": [], "shape": 3, "label": "FLOAT"}], "title": "\u9996\u6b21\u91c7\u6837\u653e\u5927\u7387", "properties": {"Node name for S&R": "Cfg Literal"}, "widgets_values": [1], "index": 0}, {"type": "Cfg Literal", "pos": [-145, -713], "size": {"0": 315, "1": 58}, "flags": {}, "order": 13, "mode": 0, "outputs": [{"name": "FLOAT", "type": "FLOAT", "links": [], "shape": 3, "label": "FLOAT"}], "title": "\u9996\u6b21\u8d85\u91c7\u540e\u7f29\u5c0f\u7387", "properties": {"Node name for S&R": "Cfg Literal"}, "widgets_values": [0.5], "index": 1}], "links": [], "external": [[{"type": "Cfg Literal", "pos": [-145, -713], "size": {"0": 315, "1": 58}, "flags": {}, "order": 13, "mode": 0, "outputs": [{"name": "FLOAT", "type": "FLOAT", "links": [], "shape": 3, "label": "FLOAT"}], "title": "\u9996\u6b21\u8d85\u91c7\u540e\u7f29\u5c0f\u7387", "properties": {"Node name for S&R": "Cfg Literal"}, "widgets_values": [0.5], "index": 1}, 0, "FLOAT"], [{"type": "Cfg Literal", "pos": [-145, -826], "size": {"0": 315, "1": 58}, "flags": {}, "order": 14, "mode": 0, "outputs": [{"name": "FLOAT", "type": "FLOAT", "links": [], "shape": 3, "label": "FLOAT"}], "title": "\u9996\u6b21\u91c7\u6837\u653e\u5927\u7387", "properties": {"Node name for S&R": "Cfg Literal"}, "widgets_values": [1], "index": 0}, 0, "FLOAT"]], "config": {"0": {"input": {"float": {"name": "\u9996\u6b21\u91c7\u6837\u653e\u5927\u7387\uff08\u8fd9\u91cc\u4e0d\u662f\u771f\u662f\u500d\u6570\uff0c\u662f\u653e\u5927\u6a21\u578b\u500d\u6570\uff09"}}}, "1": {"input": {"float": {"name": "\u9996\u6b21\u91c7\u6837\u540e\u7f29\u5c0f\u7387"}}}}}}}, "version": 0.4}