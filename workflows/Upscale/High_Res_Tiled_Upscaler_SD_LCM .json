{"last_node_id": 28, "last_link_id": 43, "nodes": [{"id": 19, "type": "VAEEncodeTiled", "pos": {"0": 390, "1": 770, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 210, "1": 78}, "flags": {"collapsed": true}, "order": 16, "mode": 0, "inputs": [{"name": "pixels", "type": "IMAGE", "link": 27}, {"name": "vae", "type": "VAE", "link": 22}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [23], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "VAEEncodeTiled"}, "widgets_values": [512], "color": "#222", "bgcolor": "#000"}, {"id": 17, "type": "ImageUpscaleWithModel", "pos": {"0": 370, "1": 810, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 226.8000030517578, "1": 49.00259780883789}, "flags": {"collapsed": true}, "order": 13, "mode": 0, "inputs": [{"name": "upscale_model", "type": "UPSCALE_MODEL", "link": 18}, {"name": "image", "type": "IMAGE", "link": 26}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [27], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ImageUpscaleWithModel"}, "color": "#222", "bgcolor": "#000"}, {"id": 18, "type": "UpscaleModelLoader", "pos": {"0": 650, "1": 770, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 210, "1": 58}, "flags": {}, "order": 0, "mode": 0, "inputs": [], "outputs": [{"name": "UPSCALE_MODEL", "type": "UPSCALE_MODEL", "links": [18], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "UpscaleModelLoader"}, "widgets_values": ["4x-UltraSharp.pth"], "color": "#222", "bgcolor": "#000"}, {"id": 22, "type": "ImageBlend", "pos": {"0": 1491, "1": 43, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 210, "1": 102}, "flags": {}, "order": 21, "mode": 0, "inputs": [{"name": "image1", "type": "IMAGE", "link": 34}, {"name": "image2", "type": "IMAGE", "link": 35}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [36], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ImageBlend"}, "widgets_values": [0, "overlay"], "color": "#223", "bgcolor": "#335"}, {"id": 13, "type": "VAEDecodeTiled", "pos": {"0": 1510, "1": -30, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 210, "1": 78}, "flags": {"collapsed": true}, "order": 19, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": 15}, {"name": "vae", "type": "VAE", "link": 16}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [29], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "VAEDecodeTiled"}, "widgets_values": [512], "color": "#222", "bgcolor": "#000"}, {"id": 4, "type": "CLIPTextEncode", "pos": {"0": 640, "1": 410, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 400, "1": 200}, "flags": {}, "order": 15, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 40}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [11], "slot_index": 0, "shape": 3}], "title": "Negative Prompt", "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["(worst quality, low quality:1.2), (embedding:easynegative:1.2) ", true], "color": "#322", "bgcolor": "#533"}, {"id": 16, "type": "ImageScaleBy", "pos": {"0": 650, "1": 650, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 210, "1": 82}, "flags": {}, "order": 10, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 25}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [26], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ImageScaleBy"}, "widgets_values": ["bicubic", 0.5], "color": "#223", "bgcolor": "#335"}, {"id": 27, "type": "Note", "pos": {"0": 1711, "1": 26, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 210, "1": 118.74122619628906}, "flags": {}, "order": 1, "mode": 0, "inputs": [], "outputs": [], "properties": {"text": ""}, "widgets_values": ["use this ImageBlend as a \"contrast fix\".\nSometimes using ControlNet at high values will change the image Color, this can help fixing without using extra tools."], "color": "#432", "bgcolor": "#653"}, {"id": 26, "type": "Note", "pos": {"0": 1125, "1": -155, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 318.41046142578125, "1": 174.6226806640625}, "flags": {}, "order": 2, "mode": 0, "inputs": [], "outputs": [], "properties": {"text": ""}, "widgets_values": ["I couldn't make Tiled Diffusion work with multiple ControlNet models, I recommend using Tile.\n\nI don't recommend changing the number of steps and CFG, other samplers work but I recommend Euler A.\n\nChange the denoise and CN strength to get different results. \n\nThe denoise is really sensitive in this workflow, so even 0.20 will already give significative changes."], "color": "#432", "bgcolor": "#653"}, {"id": 14, "type": "SaveImage", "pos": {"0": 1467, "1": 186, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 1064.8309326171875, "1": 1065.974365234375}, "flags": {}, "order": 22, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 36}], "outputs": [], "properties": {"Node name for S&R": "SaveImage"}, "widgets_values": ["ComfyUI"]}, {"id": 8, "type": "KSampler", "pos": {"0": 1133, "1": 299, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 315, "1": 262}, "flags": {}, "order": 18, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 42}, {"name": "positive", "type": "CONDITIONING", "link": 10}, {"name": "negative", "type": "CONDITIONING", "link": 11}, {"name": "latent_image", "type": "LATENT", "link": 23}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [15], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "KSampler"}, "widgets_values": [532179036009648, "fixed", 6, 3, "euler_ancestral", "sgm_uniform", 0.4], "color": "#223", "bgcolor": "#335"}, {"id": 9, "type": "TiledDiffusion", "pos": {"0": 1130, "1": 600, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 315, "1": 154}, "flags": {}, "order": 11, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 8}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [42], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "TiledDiffusion"}, "widgets_values": ["MultiDiffusion", 1024, 1024, 64, 4], "color": "#222", "bgcolor": "#000"}, {"id": 3, "type": "CLIPTextEncode", "pos": {"0": 640, "1": 160, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 400, "1": 200}, "flags": {}, "order": 14, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 39}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [6], "slot_index": 0, "shape": 3}], "title": "Positive Prompt", "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["", true], "color": "#232", "bgcolor": "#353"}, {"id": 24, "type": "Note", "pos": {"0": 869, "1": 651, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 234.19137573242188, "1": 85.82767486572266}, "flags": {}, "order": 3, "mode": 0, "inputs": [], "outputs": [], "properties": {"text": ""}, "widgets_values": ["The \"Upscale Image By\" on the left works by multiplying by 4, so 0.50 will make 2x upscale, 0.75 will upscale by 3x..."], "color": "#432", "bgcolor": "#653"}, {"id": 1, "type": "CheckpointLoaderSimple", "pos": {"0": -380, "1": 110, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 315, "1": 98}, "flags": {}, "order": 4, "mode": 0, "inputs": [], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [1], "slot_index": 0, "shape": 3}, {"name": "CLIP", "type": "CLIP", "links": [2], "slot_index": 1, "shape": 3}, {"name": "VAE", "type": "VAE", "links": [16, 22], "slot_index": 2, "shape": 3}], "properties": {"Node name for S&R": "CheckpointLoaderSimple"}, "widgets_values": ["dreamshaper_8.safetensors"], "color": "#323", "bgcolor": "#535"}, {"id": 28, "type": "Note", "pos": {"0": -20, "1": -327, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 612.856201171875, "1": 388.03369140625}, "flags": {}, "order": 5, "mode": 0, "inputs": [], "outputs": [], "properties": {"text": ""}, "widgets_values": ["Pros: \nThis works well for realistic landscapes, sharp illustrations, some anime styles that I tested worked well.\n\nExtremely fast (2x faster than my SDXL Turbo workflow).\n\nTons of details and particles.\n\nCons: \nPaintings and concept arts with complex brush strokes will usually get simplified (usually SDXL is better for this). \n\nClose realistic portraits can get weird, I recommend adding ADetailer for it (this is also my nemesis so it could be just that I suck at portraits).\n\n\nThe nodes painted in black I recommend not to change.\n\nPurple are models that can be changed.\n\nBlue are values that can be changed (I recommend not changing the Steps and CFG on the Ksampler).\n\n\nPersonal recommendations:\n\nCheckpoint: Juggernaut Reborn, DreamShaper 8\n\nLora: more_details (not necessary but I like this one, other LoRas should work, just don't change the LCM LoRa).\n"], "color": "#432", "bgcolor": "#653"}, {"id": 25, "type": "Note", "pos": {"0": 641, "1": 6, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 397.3291320800781, "1": 109.68917846679688}, "flags": {}, "order": 6, "mode": 0, "inputs": [], "outputs": [], "properties": {"text": ""}, "widgets_values": ["The Prompt makes a lot of difference.\n\nThe embedding on the negative prompt increases sharpness and helps with finer details like particles, if you want a smoother upscale, lowering the strength or removing it can help."], "color": "#432", "bgcolor": "#653"}, {"id": 21, "type": "ColorMatch", "pos": {"0": 1533, "1": 4, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 315, "1": 102}, "flags": {"collapsed": true}, "order": 20, "mode": 0, "inputs": [{"name": "image_ref", "type": "IMAGE", "link": 43}, {"name": "image_target", "type": "IMAGE", "link": 29}], "outputs": [{"name": "image", "type": "IMAGE", "links": [34, 35], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ColorMatch"}, "widgets_values": ["mkl", 1], "color": "#222", "bgcolor": "#000"}, {"id": 6, "type": "ControlNetLoader", "pos": {"0": 1130, "1": 60, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": [307.47732618897703, 64.94664853076225], "flags": {}, "order": 7, "mode": 0, "inputs": [], "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [5], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ControlNetLoader"}, "widgets_values": ["control_v11f1e_sd15_tile.pth"], "color": "#323", "bgcolor": "#535"}, {"id": 5, "type": "ControlNetApply", "pos": {"0": 1134, "1": 166, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 317.4000244140625, "1": 98}, "flags": {}, "order": 17, "mode": 0, "inputs": [{"name": "conditioning", "type": "CONDITIONING", "link": 6}, {"name": "control_net", "type": "CONTROL_NET", "link": 5}, {"name": "image", "type": "IMAGE", "link": 7}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [10], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ControlNetApply"}, "widgets_values": [0.3], "color": "#223", "bgcolor": "#335"}, {"id": 2, "type": "LoraLoader", "pos": {"0": -40, "1": 110, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 315, "1": 126}, "flags": {}, "order": 9, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 1}, {"name": "clip", "type": "CLIP", "link": 2}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [8, 37], "slot_index": 0, "shape": 3}, {"name": "CLIP", "type": "CLIP", "links": [38], "slot_index": 1, "shape": 3}], "properties": {"Node name for S&R": "LoraLoader"}, "widgets_values": ["lcm_lora_sdv1_5.safetensors", 0.65, 0.65], "color": "#222", "bgcolor": "#000"}, {"id": 23, "type": "LoraLoader", "pos": {"0": 300, "1": 110, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 315, "1": 126}, "flags": {}, "order": 12, "mode": 4, "inputs": [{"name": "model", "type": "MODEL", "link": 37}, {"name": "clip", "type": "CLIP", "link": 38}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [], "slot_index": 0, "shape": 3}, {"name": "CLIP", "type": "CLIP", "links": [39, 40], "slot_index": 1, "shape": 3}], "properties": {"Node name for S&R": "LoraLoader"}, "widgets_values": ["more_details.safetensors", 1, 1], "color": "#323", "bgcolor": "#535"}, {"id": 7, "type": "LoadImage", "pos": {"0": 170, "1": 290, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "size": {"0": 432.21405029296875, "1": 445.57135009765625}, "flags": {}, "order": 8, "mode": 0, "inputs": [], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [7, 25, 43], "slot_index": 0, "shape": 3}, {"name": "MASK", "type": "MASK", "links": null, "slot_index": 1, "shape": 3}], "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["AYSComfyUI_00031_.png", "image"]}], "links": [[1, 1, 0, 2, 0, "MODEL"], [2, 1, 1, 2, 1, "CLIP"], [5, 6, 0, 5, 1, "CONTROL_NET"], [6, 3, 0, 5, 0, "CONDITIONING"], [7, 7, 0, 5, 2, "IMAGE"], [8, 2, 0, 9, 0, "MODEL"], [10, 5, 0, 8, 1, "CONDITIONING"], [11, 4, 0, 8, 2, "CONDITIONING"], [15, 8, 0, 13, 0, "LATENT"], [16, 1, 2, 13, 1, "VAE"], [18, 18, 0, 17, 0, "UPSCALE_MODEL"], [22, 1, 2, 19, 1, "VAE"], [23, 19, 0, 8, 3, "LATENT"], [25, 7, 0, 16, 0, "IMAGE"], [26, 16, 0, 17, 1, "IMAGE"], [27, 17, 0, 19, 0, "IMAGE"], [29, 13, 0, 21, 1, "IMAGE"], [34, 21, 0, 22, 0, "IMAGE"], [35, 21, 0, 22, 1, "IMAGE"], [36, 22, 0, 14, 0, "IMAGE"], [37, 2, 0, 23, 0, "MODEL"], [38, 2, 1, 23, 1, "CLIP"], [39, 23, 1, 3, 0, "CLIP"], [40, 23, 1, 4, 0, "CLIP"], [42, 9, 0, 8, 0, "MODEL"], [43, 7, 0, 21, 0, "IMAGE"]], "groups": [], "config": {}, "extra": {"ds": {"scale": 0.5445000000000025, "offset": [-78.04846280693891, 65.39185494812659]}}, "version": 0.4}